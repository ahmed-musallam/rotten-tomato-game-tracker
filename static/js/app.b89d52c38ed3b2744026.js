webpackJsonp([1],{JcJf:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"main container m-2"},[a("nav",{staticClass:"navbar p-2"},[a("section",{staticClass:"navbar-section"},[a("router-link",{staticClass:"btn btn-link",attrs:{to:"/"}},[t._v("Home")]),t._v(" "),a("router-link",{staticClass:"btn btn-link",attrs:{to:"/motivation"}},[t._v("Motivation")]),t._v(" "),a("a",{staticClass:"btn btn-link",attrs:{href:"https://github.com/ahmed-musallam/rotten-tomato-game-tracker"}},[t._v("source code")])],1)]),t._v(" "),a("router-view")],1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[this._v(" Made with "),e("a",{attrs:{href:"https://vuejs.org/"}},[this._v("Vue")]),this._v("+"),e("a",{attrs:{href:"https://picturepan2.github.io/spectre/"}},[this._v("Spectre.css")]),this._v(" by Ahmed Musallam ")])}]};var n=a("VU/8")({name:"App"},i,!1,function(t){a("yoHU")},null,null).exports,o=a("/ocq"),r=a("Gu7T"),l=a.n(r),c={name:"home",methods:{handleRemoveGame:function(t){s.a.removeGame(t.id),this.gameIds=s.a.getGameIds()},createNewGame:function(){var t,e=this.gameIds.map(function(t){return parseInt(t)});if(0===e.length)t=1;else{var a=Math.max.apply(Math,l()(e));t=a?a+1:1}this.$router.push({path:"game/"+t})}},data:function(){return{msg:"Welcome to Rotten Tomatoe ",gameIds:s.a.getGameIds().slice(0)}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("h1",{staticClass:"no-margin-bottom"},[t._v("All Games "+t._s(t.msg)+" "),a("button",{staticClass:"btn btn-primary",on:{click:t.createNewGame}},[t._v("New Game")])]),t._v(" "),a("blockquote",{staticClass:"no-margin-top"},[t._v("*Data is stored in localStorage")]),t._v(" "),a("div",{staticClass:"columns"},t._l(t.gameIds,function(e,s){return a("div",{key:s,staticClass:"column col-4 col-lg-4 col-md-4 col-sm-12 col-xs-12"},[a("game-card",{staticClass:"m-1",attrs:{gameId:e},on:{removegame:t.handleRemoveGame}})],1)}))])])},staticRenderFns:[]};var v=a("VU/8")(c,m,!1,function(t){a("yl4r")},"data-v-389c4c6c",null).exports,d=a("kiBT"),u=a.n(d),p=a("Zrlr"),h=a.n(p),f=a("wxAW"),_=a.n(f),g=function(){function t(){h()(this,t)}return _()(t,[{key:"calculateScore",value:function(t){var e=this.players[t].guesses,a=this.movies.map(function(t){return parseInt(t.score)});return e.reduce(function(t,e,s){return t+Math.abs(parseInt(a[s])-parseInt(e))},0)}},{key:"addMovie",value:function(t,e){this.movies=this.movies||[],this.movies.push({name:t,score:e}),this.players&&this.players.map(function(t){return t.guesses&&t.guesses.push(0),t})}},{key:"addPlayer",value:function(t){t&&(t=t[0].toUpperCase()+t.substring(1,t.length),this.players=this.players||[],this.movies=this.movies||[],this.players.push({name:t,guesses:new Array(this.movies.length).fill(0)}))}}]),t}(),y={name:"game",beforeCreate:function(){this._game=s.a.getGame(this.$route.params.id)||s.a.setGame(this.$route.params.id,{}),u()(this._game,g.prototype)},methods:{handleAddPlayer:function(t){this._game.addPlayer(t.name),this.update()},handleAddMovie:function(t){this._game.addMovie(t.name,t.score),this.update()},update:function(){s.a.setGame(this.$route.params.id,this.game),this.editTracker=this.getEditTracker()},isEdit:function(t,e){return this.editTracker[this.getEditName(t,e)]},getEditName:function(t,e){return t+"_"+e},editScore:function(t,e){var a=this.getEditName(t,e);this.editTracker[a]=!0},saveScore:function(t,e,a){var s=this.getEditName(t,e);this.editTracker[s]=!1;var i=("button"===a.target.tagName?a.target:a.target.parentElement).parentElement.querySelector("input").value;this.game.players[t].guesses[e]=i,this.update()},getEditTracker:function(){var t=this._game;return t.players=t.players||[],t.players.reduce(function(e,a,s){return t.movies.forEach(function(t,a){e[s+"_"+a]=!1}),e},{})}},data:function(){return{game:this._game,editTracker:this.getEditTracker(),playerModalActive:!1,movieModalActive:!1}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",[t._v("Game on!")]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.playerModalActive=!0}}},[t._v("Add Player")]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.movieModalActive=!0}}},[t._v("Add Movie")]),t._v(" "),t.game.players||t.game.movies?a("table",{staticClass:"table table-striped table-hover"},[a("thead",[a("tr",[a("th",[t._v("Movie Name")]),t._v(" "),a("th",[t._v("Movie's Score")]),t._v(" "),t._l(t.game.players,function(e,s){return a("th",{key:s},[t._v(t._s(e.name))])})],2)]),t._v(" "),a("tbody",[t._l(t.game.movies,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.score))]),t._v(" "),t._l(t.game.players,function(e,i){return a("td",{key:i},[t.isEdit(i,s)?t._e():a("div",{staticClass:"view"},[a("input",{staticClass:"form-input score",attrs:{disabled:"",type:"text"},domProps:{value:e.guesses[s]}}),t._v(" "),a("button",{staticClass:"btn btn-link btn-md",on:{click:function(e){t.editScore(i,s,e)}}},[a("i",{staticClass:"icon icon-edit"})])]),t._v(" "),t.isEdit(i,s)?a("div",{staticClass:"edit"},[a("input",{staticClass:"form-input score",attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.guesses[s]}}),t._v(" "),a("button",{staticClass:"btn btn-link btn-md",on:{click:function(e){t.saveScore(i,s,e)}}},[a("i",{staticClass:"icon icon-check"})])]):t._e()])})],2)}),t._v(" "),a("tr",[a("td",[t._v("Total Score")]),t._v(" "),a("td"),t._v(" "),t._l(t.game.players,function(e,s){return a("td",{key:s},[t._v("\n            "+t._s(t.game.calculateScore(s))+"\n        ")])})],2)],2)]):t._e(),t._v(" "),a("player-modal",{attrs:{active:t.playerModalActive},on:{"update:active":function(e){t.playerModalActive=e},addplayer:t.handleAddPlayer,close:function(e){t.playerModalActive=!1}}}),t._v(" "),a("movie-modal",{attrs:{active:t.movieModalActive},on:{"update:active":function(e){t.movieModalActive=e},addmovie:t.handleAddMovie,close:function(e){t.movieModalActive=!1}}})],1)},staticRenderFns:[]};var C=a("VU/8")(y,b,!1,function(t){a("eYwx")},"data-v-0a044b83",null).exports,k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("h1",[t._v("Motivation")]),t._v(" "),a("p",[t._v("I recentely started learning "),a("a",{attrs:{href:"https://vuejs.org/"}},[t._v("Vue")]),t._v(" and I fell in love with it! And I was looking for a simple starter app I can build to demo what I have learned so far.")]),t._v(" "),a("p",[t._v("At my company, we have a call every friday and sometimes we play this game called 'rotten tomato'. The Idea is that the CEO would pick a few movies and a few members of the team to participate. The players job is to give an estimate of the rotten tomato score for each movie. In the end, the player with the closest overal estimate to all the movies wins and recieves a prize!")]),t._v(" "),a("p",[t._v("Usually, one specific member of the team is tasked with keeping track of all the scores, and thats why I built this, but primarely for fun :)")])])])}]},M=a("VU/8")({name:"motivation"},k,!1,null,null,null).exports;s.a.use(o.a);var N=new o.a({routes:[{path:"/",name:"Rotten Tomatoe",component:v},{path:"/motivation",name:"Motivation",component:M},{path:"/game/:id",component:C}]}),I=a("fZjL"),S=a.n(I),G=a("mvHQ"),w=a.n(G),A={install:function(t,e){t.GameStore={},t.getGame=function(t){var e=localStorage.getItem("game_"+t)||"{}";return JSON.parse(e)},t.setGame=function(e,a){var s=a||{};return localStorage.setItem("game_"+e,w()(s)),t.getGame(e)},t.removeGame=function(t){localStorage.removeItem("game_"+t)},t.getGames=function(){return S()(localStorage).filter(function(t){return t.startsWith("game_")}).map(function(e){return t.getGame(e.replace("game_",""))})},t.getGameIds=function(){return S()(localStorage).filter(function(t){return t.startsWith("game_")}).map(function(t){return t.replace("game_","")})}}},E={name:"player-modal",props:{active:Boolean},data:function(){return{playerName:""}},methods:{close:function(){this.$emit("close"),this.playerName=""},addPlayer:function(){this.$emit("addplayer",{name:this.playerName}),this.close()}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal modal-sm",class:{active:t.active},attrs:{id:"example-modal-2"}},[a("a",{staticClass:"modal-overlay",attrs:{"aria-label":"Close"},on:{click:t.close}}),t._v(" "),a("div",{staticClass:"modal-container",attrs:{role:"document"}},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){e.preventDefault(),t.addPlayer(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"player-name"}},[t._v("Player Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.playerName,expression:"playerName"}],staticClass:"form-input",attrs:{type:"text",id:"player-name",placeholder:"Player Name"},domProps:{value:t.playerName},on:{input:function(e){e.target.composing||(t.playerName=e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.addPlayer}},[t._v("Submit")]),t._v(" "),a("a",{staticClass:"btn btn-link",attrs:{"aria-label":"Close"},on:{click:t.close}},[t._v("Close")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("a",{staticClass:"btn btn-clear float-right",attrs:{"aria-label":"Close"}}),this._v(" "),e("div",{staticClass:"modal-title h5"},[this._v("Modal title")])])}]},$=a("VU/8")(E,x,!1,null,null,null).exports,P={name:"movie-modal",props:{active:Boolean},data:function(){return{movieName:"",movieScore:""}},methods:{close:function(){this.$emit("close"),this.movieName="",this.movieScore=""},addMovie:function(){this.$emit("addmovie",{name:this.movieName,score:this.movieScore}),this.close()}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal modal-sm",class:{active:t.active},attrs:{id:"example-modal-2"}},[a("a",{staticClass:"modal-overlay",attrs:{"aria-label":"Close"},on:{click:t.close}}),t._v(" "),a("div",{staticClass:"modal-container",attrs:{role:"document"}},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){e.preventDefault(),t.addMovie(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"movie-name"}},[t._v("Movie Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.movieName,expression:"movieName"}],staticClass:"form-input",attrs:{type:"text",id:"movie-name",placeholder:"Movie Name"},domProps:{value:t.movieName},on:{input:function(e){e.target.composing||(t.movieName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"movie-score"}},[t._v("Movie Score")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.movieScore,expression:"movieScore"}],staticClass:"form-input",attrs:{type:"number",min:"0",max:"100",id:"movie-score",placeholder:"Movie Score"},domProps:{value:t.movieScore},on:{input:function(e){e.target.composing||(t.movieScore=e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.addMovie}},[t._v("Submit")]),t._v(" "),a("a",{staticClass:"btn btn-link",attrs:{"aria-label":"Close"},on:{click:t.close}},[t._v("Close")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("a",{staticClass:"btn btn-clear float-right",attrs:{"aria-label":"Close"}}),this._v(" "),e("div",{staticClass:"modal-title h5"},[this._v("Modal title")])])}]},R=a("VU/8")(P,T,!1,null,null,null).exports,U={name:"game-card",props:["gameId"],methods:{removeGame:function(){this.$emit("removegame",{id:this.gameId})}},data:function(){var t=s.a.getGame(this.gameId)||{};return u()(t,g.prototype),{game:t,route:"/game/"+this.gameId,getInitials:function(t){if(!t)return"";var e="",a="",s=t.split(" ").filter(function(t){return!!t});return 1===s.length?(e=s[0]).length>1?e.substring(0,2):e:(e=s.shift(),a=s.pop(),e[0]+a[0])}}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-title h5"},[t._v("Rotten Tomatoes Game")]),t._v(" "),a("div",{staticClass:"card-subtitle text-gray"},[t._v("Game Id: "+t._s(t.gameId))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"player"},[a("b",[t._v("Players:")]),t._v(" "),t._l(t.game.players,function(e,s){return a("div",{key:s,staticClass:"chip"},[a("figure",{staticClass:"avatar avatar-sm",staticStyle:{"background-color":"#5755d9"},attrs:{"data-initial":t.getInitials(e.name)}}),t._v("\n        "+t._s(e.name)+"\n      ")])})],2),t._v(" "),a("div",[a("b",[t._v("Movies:")]),t._v(" "),t._l(t.game.movies,function(e,s){return a("div",{key:s,staticClass:"chip"},[a("figure",{staticClass:"avatar avatar-sm",staticStyle:{"background-color":"#5755d9"},attrs:{"data-initial":t.getInitials(e.name)}}),t._v("\n        "+t._s(e.name)+"\n      ")])})],2)]),t._v(" "),a("div",{staticClass:"card-footer"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:t.route}},[t._v("Go to Game")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.removeGame}},[t._v("Delete Game")])],1)])},staticRenderFns:[]};var F=a("VU/8")(U,V,!1,function(t){a("JcJf")},"data-v-966aa294",null).exports;s.a.config.productionTip=!1,s.a.use(A),s.a.component("player-modal",$),s.a.component("movie-modal",R),s.a.component("game-card",F),new s.a({el:"#app",router:N,components:{App:n},template:"<App/>"})},eYwx:function(t,e){},yl4r:function(t,e){},yoHU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b89d52c38ed3b2744026.js.map